\section{Sistema di autenticazione}
Il meccanismo di autenticazione è la procedura per verificare che un determinato dispositivo
è abilitato a connettersi alla rete.
Questo procedimento avviene tramite il riconoscimento dell'identificativo del cellulare (IMSI) e Successivamente
avviene l'\textit{Authentication and key agreement} (AKA), procedimento in cui
il \textit{core network} abilita un dispositivo a connettersi.\\
In questo capitolo verranno trattati le procedure di autenticazione per le generazioni dal 2G al 5G, il 1G è stato escluso 
poiché ha un funzionamento completamente analogico.

\subsection{2G}
Il sistema di autenticazione di seconda generazione utilizza principalmente due codici univoci della SIM e del MS:
\begin{itemize}
    \item IMSI ovvero un codice identificatvo della SIM
    \item IMEI ovvero un codice identificativo del MS
\end{itemize}
Questi due codici saranno necessari anche per le prossime generazioni fino al 4G.\\
La procedura di autenticazione di un MS segue questi passaggi:
\begin{enumerate}
    \item Il MS invia l'IMSI alla BTS di riferimento che lo inoltra al \textit{Core Network}, questo
    avviene ogni volta che il MS vuole connettersi al \textit{network} e non risulta già risultato presso 
    la rete di riferimento. In caso lo fosse, verrà utilizzato il TMSI \textit{Temporary MobileSubscriber Identity}
    per preservare il suo anonimato.
    \item L'AuC cerca la chiave Ki associata all'IMSI e insieme a un numero casuale RAND genera un codice SRES che verrà
    salvato nel VLR.
    \item Viene inviato al MS il RAND generato.
    \item La stessa procedura viene fatta dal MS, che genera quindi il suo SRES e lo invia al VLR
    \item Il VLR confronta se l'SRES ricevuto corrisponde a quello generato dall'AuC, se corrispondono l'autenticazione risulta
    effettuata con successo e viene generato,salvato e inviato il TMSI.
\end{enumerate}

\begin{figure}[ht]
    \centering
    \includegraphics[width=0.7\textwidth]{images/auth-2g.png}
    \caption{Autenticazione nelle reti 2G}
\end{figure}

\clearpage

\subsection{3G}
L'autenticazione nell'architettura di terza generazione è molto simile a quella precedente salvo i seguenti miglioramenti:
\begin{itemize}
    \item Viene introdotta l'autenticazione mutua per prevenire l'autenticazione a false \textit{Base stations}.
    \item La lunghezza della chiave Ki viene incrementata da 64 a 128 bit.
\end{itemize}

\clearpage

\subsection{4G}
\begin{figure}[ht]
    \centering
    \includegraphics[width=0.8\textwidth]{images/auth-4g.png}
    \caption{Autenticazione nelle reti 4G}
\end{figure}

\clearpage

\subsection{5G}

\begin{figure}[ht]
    \centering
    \includegraphics[width=0.8\textwidth]{images/auth-5g.png}
    \caption{Autenticazione nelle reti 5G}
\end{figure}